import{r as e,i as t}from"./index.39ac0d24.js";import{n as l,a,o,m as r,b as s,w as c,g as n,p as d,F as i,f as u}from"./vendor.8bd8fff2.js";var h=[];e.post({url:"/request/info/collector/report/field/url",data:{url:(void 0).url,category:val}}).then((e=>{console.log(e),labels=e.data.labels,e.data.values})).catch((e=>{console.log(e),l({showClose:!0,message:"请求错误",type:"warning"})}));const f={name:"demo",computed:{},data:()=>({myChartStyle:{float:"left",width:"100%",height:"90%"},field:"",value:"",targetField:""}),created(){},mounted(){this.initCharts()},watch:{},methods:{setBlur(){document.activeElement.blur()},querySearch(e,t){const l=e?h.filter(this.createFilter(e)):h;console.log(l),t(l)},createFilter:e=>t=>t.value.toUpperCase().match(e.toUpperCase()),initCharts(){this.chart=t(this.$refs.chart_wrap),window.addEventListener("resize",(()=>{this.chart.resize()}))},setOptions(t){var a=[],o=[];e.post({url:"/request/info/collector/report/field/url",data:{url:this.url,category:t}}).then((e=>{console.log(e),a=e.data.labels,o=e.data.values,this.chart.setOption({title:{text:"字段:"+t+"值分布"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},color:["#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#ff0000","#00ff00","#0000ff"],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a},series:[{name:t,type:"bar",data:o}]})})).catch((e=>{console.log(e),l({showClose:!0,message:"请求错误",type:"warning"})}))}}},g=u("查询");f.render=function(e,t,l,u,h,f){const p=a("el-autocomplete"),m=a("el-button"),y=a("el-row");return o(),r(i,null,[s(y,null,{default:c((()=>[s(p,{onClear:t[0]||(t[0]=e=>f.setBlur()),modelValue:h.field,"onUpdate:modelValue":t[1]||(t[1]=e=>h.field=e),"fetch-suggestions":f.querySearch,clearable:"",placeholder:"field",onSelect:e.handleSelect,style:{width:"30%"}},null,8,["modelValue","fetch-suggestions","onSelect"]),s(p,{onClear:t[2]||(t[2]=e=>f.setBlur()),modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=e=>h.value=e),"fetch-suggestions":f.querySearch,clearable:"",placeholder:"value",onSelect:e.handleSelect,style:{width:"30%"}},null,8,["modelValue","fetch-suggestions","onSelect"]),s(p,{onClear:t[4]||(t[4]=e=>f.setBlur()),modelValue:h.targetField,"onUpdate:modelValue":t[5]||(t[5]=e=>h.targetField=e),"fetch-suggestions":f.querySearch,clearable:"",placeholder:"targetField",onSelect:e.handleSelect,style:{width:"30%"}},null,8,["modelValue","fetch-suggestions","onSelect"]),s(m,{type:"primary"},{default:c((()=>[g])),_:1})])),_:1}),n("div",{ref:"chart_wrap",class:"chart_wrap",style:d(h.myChartStyle)},null,4)],64)};export{f as default};
